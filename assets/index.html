<html>
<head>
	<title>Dordevic home site</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="layers row">
		<div class="logo-layer">
			<div class="left">N</div>
			<div class="right">a</div>
		</div>
		<div class="page-layer" data-query="view(Page)">
			<div class="home-page" data-query="view(Home).visible(App.Options.Pages.currentPage == 'home')">
				email: {{contacts.email}}
			</div>
			<div class="article-page" data-query="view(Article).visible(App.Options.Pages.currentPage == 'article')">
				<h1>{{article.title}}</h1>
				<p>{{article.description}}</p>
			</div>
		</div>
		<div class="widgets-layer" data-query="view(Widgets).each(widgets)">
			<div
				class="{{slug}}-widget"
				data-query="click($view.changeWidget, $index).setClass('is-current', $view.currentWidget == parseInt($index))">
				{{title}}
			</div>
		</div>
		<div class="options-layer" data-query="view(Options)">
			<div class="categories-option" data-query="view(Categories).visible($parent.currentOptions().slug == 'blog')">
				<ul data-query="each(categories)">
					<li data-query="click($view.changeCategory, $index).setClass('is-current', $view.currentCategory == parseInt($index))">{{title}}</li>
				</ul>
			</div>
			<div class="pages-option" data-query="view(Pages).visible($parent.currentOptions().slug == 'dordevic')">
				<ul data-query="each(pages)">
					<li data-query="click($view.changePage).setClass('is-current', $view.currentPage == $this.slug)">{{title}}</li>
				</ul>
			</div>
			<div class="chat-option" data-query="view(Profile).visible($parent.currentOptions().slug == 'chat')">
				<ul>
					<li>Опция-1</li>
				</ul>
			</div>
		</div>
		<div class="sidebar-layer" data-query="view(Sidebar)">
			<div class="blog-sidebar" data-query="view(Blog).visible($parent.getSidebar().slug == $view.slug)">
				<div class="article-list" data-query="each(articles.view)">
					<div class="article-preview">
						<div class="controls">
							<span class="remove" data-query="click(remove)">X</span>
						</div>
						<div class="thumbnail">
							<img src="{{thumbnail}}" alt=""/>
						</div>
						<div class="content">
							<div class="title">{{title}}</div>
							<div class="description">{{description}}</div>
							<a href="#" data-query="navigate(Page.Article, {slug: $this.slug)">Подробнее</a>
						</div>
					</div>
				</div>
			</div>
			<div class="chat-sidebar" data-query="view(Chat).visible($parent.getSidebar().slug == 'chat')">
				<div class="message-list" data-query="each(messages)">
					<div class="message-item">
						<p>{{author}}: {{message}}</p>
					</div>
				</div>
			</div>
		</div>
	</div>
<script src="bundle.js"></script>
</body>
</html>